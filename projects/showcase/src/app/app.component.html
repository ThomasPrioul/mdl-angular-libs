<div #header class="app-header dark">
  <mat-toolbar>
    <mat-toolbar-row>
      <div class="logos">
        <div class="sncf-logo">
          <img alt="SNCF" />
        </div>
        <button
          appMainMenuButton
          i18n-matTooltip="app menu tooltip"
          mat-button
          (click)="menuOpen = !menuOpen"
          class="mdl menu-button">
          MENU
        </button>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>
</div>

<mat-sidenav-container class="app-sidenav-container">
  <mat-sidenav
    class="app-sidenav"
    [style.top]="header.offsetHeight + 'px'"
    [mode]="(menuMode$ | async) ?? 'side'"
    [opened]="menuOpen">
    <div class="menu-host">
      <div>User menu 1</div>
      <div>User menu 2</div>
      <div>User menu 3</div>

      <div style="margin-top: auto">Admin menu 1</div>
      <div>Admin menu 2</div>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <main [style.height]="fixedHeight ? 'calc(100vh - ' + header.offsetHeight + 'px)' : null">
      <div class="flex gap-2 m-2 items-center">
        <button mat-raised-button (click)="loadData()" [disabled]="loading() === true">
          <span>Load data</span>
        </button>
        <button mat-raised-button (click)="loadEmptyData()" [disabled]="loading() === true">
          <span>Load empty data</span>
        </button>
        <textarea matInput #code></textarea>
        <button mat-raised-button (click)="executeArbitraryCode(code.value)">
          <span>Run code</span>
        </button>
        <textarea matInput [value]="codeOutput"></textarea>
        <mat-slide-toggle [(ngModel)]="fixedHeight"> Fixed height page </mat-slide-toggle>
      </div>

      <mdl-table2
        [dataSource]="dataSource"
        [loading]="loading()"
        [(displayedColumns)]="displayedColumns"
        selection
        matSort
        title="Restrictions"
        style="margin: 24px; border-radius: 8px"
        class="mat-elevation-z8">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
          <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Position</th>
          <td mat-cell *matCellDef="let element">{{ element.position }}</td>
        </ng-container>

        <ng-container matColumnDef="weight">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Weight</th>
          <td mat-cell *matCellDef="let element">{{ element.weight }}</td>
        </ng-container>

        <ng-container matColumnDef="symbol">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Symbol</th>
          <td mat-cell *matCellDef="let element">{{ element.symbol }}</td>
        </ng-container>

        <tr class="mat-mdc-row mdc-data-table__row" *matNoDataRow>
          <td *ngIf="loading() === false" class="mat-mdc-cell mdc-data-table__cell" colspan="1000">
            No data
          </td>
        </tr>
      </mdl-table2>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
